<div class="p-6 bg-gray-100 min-h-screen">
  <div class="max-w-4xl mx-auto bg-white rounded-xl shadow-lg p-8">

    <div class="flex justify-between items-center mb-8 border-b pb-4">
      <h2 class="text-2xl font-bold text-gray-800">Edit Event</h2>
      <button routerLink="/dashboard/event" class="text-gray-500 hover:text-gray-700">âœ• Batal</button>
    </div>

    <form (ngSubmit)="updateEvent()">

      <div class="mb-6">
        <label class="block text-gray-700 font-bold mb-2">Nama Event <span class="text-red-500">*</span></label>
        <input type="text" [(ngModel)]="event.namaEvent" name="namaEvent" required
               class="w-full px-4 py-3 border rounded-lg focus:ring-2 focus:ring-blue-500">
      </div>

      <div class="grid grid-cols-1 md:grid-cols-2 gap-6 mb-6">
        <div>
          <label class="block text-gray-700 font-bold mb-2">Waktu Mulai <span class="text-red-500">*</span></label>
          <input type="datetime-local" [(ngModel)]="event.tanggalMulai" name="tglMulai" required
                 class="w-full px-4 py-3 border rounded-lg">
        </div>
        <div>
          <label class="block text-gray-700 font-bold mb-2">Waktu Selesai <span class="text-red-500">*</span></label>
          <input type="datetime-local" [(ngModel)]="event.tanggalSelesai" name="tglSelesai" required
                 class="w-full px-4 py-3 border rounded-lg">
        </div>
      </div>

      <div class="col-12 mb-3">
    <label class="form-label fw-bold">Lokasi</label>
    <input
      type="text"
      class="form-control"
      [(ngModel)]="event.lokasi"
      name="lokasi"
      placeholder="Contoh: Gedung Serbaguna Lt. 2">
</div>

<div class="row">

    <div class="col-md-6 mb-3">
        <label class="form-label fw-bold">Harga Tiket / Pendaftaran (Rp)</label>
        <div class="input-group">
            <span class="input-group-text">Rp</span>
            <input
                type="number"
                class="form-control"
                [(ngModel)]="event.harga"
                name="harga"
                placeholder="0"
                min="0">
        </div>
        <small class="text-muted" style="font-size: 0.8em;">Isi <b>0</b> jika Gratis.</small>
    </div>

    <div class="col-md-6 mb-3">
        <label class="form-label fw-bold">Link Pendaftaran</label>
        <input
          type="text"
          class="form-control"
          [(ngModel)]="event.linkPendaftaran"
          name="linkPendaftaran"
          placeholder="https://...">
    </div>

</div>

      <div class="grid grid-cols-1 md:grid-cols-2 gap-6 mb-6">
        <div>
          <label class="block text-gray-700 font-bold mb-2">Penyelenggara</label>
          <select [(ngModel)]="kategoriPemilik" name="kategori" class="w-full px-4 py-3 border rounded-lg bg-gray-50">
            <option value="umum">Umum (Kampus)</option>
            <option value="organisasi">Organisasi</option>
            <option value="ukm">UKM</option>
          </select>
        </div>
        <div>
          <label class="block text-gray-700 font-bold mb-2">Status Publikasi</label>
          <select [(ngModel)]="event.status" name="status" class="w-full px-4 py-3 border rounded-lg">
            <option value="publik">Publik (Tayang)</option>
            <option value="draft">Draft (Sembunyikan)</option>
          </select>
        </div>
      </div>

      <div *ngIf="kategoriPemilik === 'organisasi'" class="mb-6 p-4 bg-blue-50 rounded border border-blue-200">
        <label class="block text-blue-800 font-bold mb-2">Pilih Organisasi</label>
        <select [(ngModel)]="tempIdOrganisasi" name="pilihOrg" class="w-full px-4 py-3 border rounded-lg">
           <option *ngFor="let org of listOrganisasi" [value]="org.idOrganisasi">{{ org.namaOrganisasi }}</option>
        </select>
      </div>

      <div *ngIf="kategoriPemilik === 'ukm'" class="mb-6 p-4 bg-green-50 rounded border border-green-200">
        <label class="block text-green-800 font-bold mb-2">Pilih UKM</label>
        <select [(ngModel)]="tempIdUkm" name="pilihUkm" class="w-full px-4 py-3 border rounded-lg">
           <option *ngFor="let ukm of listUkm" [value]="ukm.idUkm">{{ ukm.namaUkm }}</option>
        </select>
      </div>

      <div class="mb-6">
        <label class="block text-gray-700 font-bold mb-2">Poster Event</label>
        <input type="file" (change)="onFileSelected($event)" accept="image/*" class="block w-full text-sm text-gray-500 file:mr-4 file:py-2 file:px-4 file:rounded-full file:bg-blue-50 file:text-blue-700 cursor-pointer">
      </div>

      <div class="mb-8">
        <label class="block text-gray-700 font-bold mb-2">Deskripsi Event</label>
        <textarea [(ngModel)]="event.deskripsi" name="deskripsi" class="w-full px-4 py-3 border rounded-lg h-32"></textarea>
      </div>

      <div class="flex justify-end gap-4 border-t pt-6">
        <button type="button" routerLink="/dashboard/event" class="px-6 py-2 bg-gray-200 rounded-lg hover:bg-gray-300">Batal</button>
        <button type="submit" class="px-6 py-2 bg-blue-600 text-white font-bold rounded-lg hover:bg-blue-700">Simpan Event</button>
      </div>

    </form>
  </div>
</div>
